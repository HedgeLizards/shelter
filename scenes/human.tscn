[gd_scene load_steps=7 format=3 uid="uid://c6sj87wf6aicq"]

[ext_resource type="Script" path="res://scripts/human.gd" id="1_vveyi"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hds28"]
radius = 0.25
height = 1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6p7uq"]
resource_local_to_scene = true
transparency = 4

[sub_resource type="BoxMesh" id="BoxMesh_ekt3o"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_6p7uq")
size = Vector3(0.6, 1.8, 0.5)

[sub_resource type="BoxMesh" id="BoxMesh_ph7od"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_6p7uq")
size = Vector3(0.1, 0.1, 0.4)

[sub_resource type="BoxMesh" id="BoxMesh_2rxik"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_6p7uq")
size = Vector3(0.1, 1.2, 0.1)

[node name="Human" type="CharacterBody3D" groups=["humans"]]
collision_layer = 4
collision_mask = 7
input_ray_pickable = false
script = ExtResource("1_vveyi")

[node name="Body" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_hds28")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Body"]
mesh = SubResource("BoxMesh_ekt3o")
skeleton = NodePath("../..")

[node name="Flashlight" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.35, 0, -0.45)
mesh = SubResource("BoxMesh_ph7od")

[node name="SpotLight3D" type="SpotLight3D" parent="Flashlight"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.2)
light_color = Color(1, 1, 0.670588, 1)
light_energy = 16.0
light_volumetric_fog_energy = 15.0
spot_range = 20.0
spot_angle_attenuation = 0.143588

[node name="Gun" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3, 0, -0.25)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Gun"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.05, 0.55, -0.05)
mesh = SubResource("BoxMesh_2rxik")
skeleton = NodePath("../..")

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7, -0.25)
enabled = false
collision_mask = 3
hit_from_inside = true
